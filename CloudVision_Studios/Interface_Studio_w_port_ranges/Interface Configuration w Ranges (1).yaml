- service: arista.studio.v1.StudioConfigService
  method: Set
  body:
    value:
      key:
        studio_id: 79917f2e-83ba-42eb-9512-5ceff62e0ed6
        workspace_id: a2a2b21c-b58c-4bf2-b165-ec466726a804
      display_name: Interface Configuration w Ranges
      description: >-
        version 1.4 Configure device interfaces and interface profiles, and
        assign administrative state, VLANs, and other attributes.
      template:
        type: TEMPLATE_TYPE_MAKO
        body: |
          <%
          debug = False
          class baseInterface:
            def __init__(self):
              self.enabled = None
              self.mode = None
              self.security = []
              self.violation = False
              self.dot1x = False
              self.pcmalg = False
              self.monitor = []
              self.accessVlan = None
              self.desc = None
              self.nativeVlanId = None
              self.allowedVlans = None
              self.phoneVlanId = None
          class interface(baseInterface):
            def __init__(self):
              super().__init__()
              self.speed = None
              self.groupNum = None
          class channelGroup(baseInterface):
            def __init__(self):
              super().__init__()

          def processInterface(intfName, intfCfg, profileCfg):
            intf = interfaces.get(intfName, interface())
            intf.enabled = intfCfg.get('enabled')
            intf.speed = intfCfg.get('speed')
            intf.groupNum = intfCfg.get('channelGroup')
            accessVlan = intfCfg.get('accessVlan')
            mode = 'access' if accessVlan else None
            desc = intfCfg.get('description')
            group = None
            if profileCfg:
                security = profileCfg.get('portSecurity')
                dot1x = profileCfg.get('dot1X')
                monitor = profileCfg.get('monitorSession')
                pcmlag = profileCfg.get('portChannelMlag')     
                if intf.speed == 'auto':
                    intf.speed = profileCfg.get('speed')
                intf.groupNum = intf.groupNum or profileCfg.get('channelGroup')
                profileMode = profileCfg.get('mode')


                if mode == 'access':
                    assert profileMode == 'access', 'Interface %s: Access VLAN cannot be specified along with profile %s' %(intfName, profileMode)
                else:
                    mode = profileMode
                if mode == 'access':
                    accessVlan = accessVlan or profileCfg.get('accessVlanId')
                    assert accessVlan > 0, 'Interface %s: Access Vlan must be specified for access mode' %(intfName)
                profileDesc = profileCfg.get('profileDescription')
                if profileDesc:
                    if '$1' in profileDesc:
                        if not desc:
                            raise Exception('Interface %s is missing a description, '
                                'needed for the profile %r template' % (intfName, profileName))
                        desc = profileDesc.replace('$1', desc)
                    else:
                        desc = profileDesc
            if intf.groupNum != None and intf.groupNum != 0:
                group = groups.get(intf.groupNum, channelGroup())
                group.enabled = True
                group.mode = mode
                group.pcmlag = pcmlag
                group.accessVlan = accessVlan
                group.nativeVlanId = profileCfg.get('nativeVlanId') if profileCfg else None
                group.allowedVlans = profileCfg.get('allowedVlans') if profileCfg else None
                group.phoneVlanId = profileCfg.get('phoneVlanId') if profileCfg else None
                group.desc = desc
            else:
                intf.mode = mode
                intf.security = security
                intf.dot1x = dot1x
                intf.monitor = monitor
                intf.accessVlan = accessVlan
                intf.nativeVlanId = profileCfg.get('nativeVlanId') if profileCfg else None
                intf.allowedVlans = profileCfg.get('allowedVlans') if profileCfg else None
                intf.phoneVlanId = profileCfg.get('phoneVlanId') if profileCfg else None
                intf.desc = desc
            interfaces[intfName] = intf
            if group:
              groups[intf.groupNum] = group

          my_device = ctx.getDevice()
          groups = {}
          interfaces = {}
          ### Interface Ranges
          for intfRange in devices.resolve().devicesGroup.interfaceRanges:
              intfName = intfRange["interfaceName"]
              intfCfg = intfRange
              ## Don't output config if nothing interesting is set
              if len(intfCfg) == 0 or not intfCfg.get('enabled'):
                continue
              # Note: we are not using the EOS 'interface profiles' feature for now because of
              # they make config pushes slow in certain releases (519556).
              profileName = intfCfg.get('profile')
              matchedProfile = None
              if profileName:
                  matchedProfile = next((p for p in profiles if profileName == p['name']), None)
                  if not matchedProfile:
                      raise Exception('Found no matching profile "%s" for interface %s' % (profileName, intfName))
              processInterface(intfName, intfCfg, matchedProfile)

          ####
          for intf in my_device.getInterfaces():
              intfName = intf.name
              intfVal = devices.resolve().devicesGroup.interface.resolve(intfName, strict=True)
              if not intfVal or not intfVal.get('intfConfig'):
                  continue
              intfCfg = intfVal['intfConfig']
              ## Don't output config if nothing interesting is set
              if len(intfCfg) == 0 or not intfCfg.get('enabled'):
                continue
              # Note: we are not using the EOS 'interface profiles' feature for now because of
              # they make config pushes slow in certain releases (519556).
              profileName = intfCfg.get('profile')
              matchedProfile = None
              if profileName:
                  matchedProfile = next((p for p in profiles if profileName == p['name']), None)
                  if not matchedProfile:
                      raise Exception('Found no matching profile "%s" for interface %s' % (profileName, intfName))
              processInterface(intfName, intfCfg, matchedProfile)
          %>\

          <%def name="makeIntfCfg(intfName, intfCfg)">
              <%
                # Interface-specific settings (intfCfg) override profile settings (profileCfg)
                # Speed is always taken from profile if not set at interface level.
                # Description is always taken from profile, and template-substituted with interface description
              %>
          interface ${intfName}
            %if intfCfg.enabled:
              no shutdown
            %endif
            %if intfCfg.mode == 'access':
              switchport mode access
              switchport access vlan ${intfCfg.accessVlan}
              spanning-tree portfast
              spanning-tree bpduguard disable
           
            %elif intfCfg.mode == 'trunk':
              switchport mode trunk
              switchport trunk native vlan ${intfCfg.nativeVlanId}
              switchport trunk allowed vlan ${intfCfg.allowedVlans}
            %elif intfCfg.mode == 'phone':
              switchport mode trunk phone
              switchport trunk native vlan ${intfCfg.nativeVlanId}
              switchport phone vlan ${intfCfg.phoneVlanId}
              switchport trunk allowed vlan ${intfCfg.allowedVlans}
              ! switchport phone trunk untagged???
            %endif
            %if intfCfg.speed == "auto":
              speed auto
            %elif intfCfg.speed:
              speed forced ${intfCfg.speed}
            %endif
            %if intfCfg.security["enablePortSecurity"] == True:
              switchport port-security 
              switchport port-security mac-address maximum ${intfCfg.security["portSecurityAllowedMacCount"]}
              %if intfCfg.security["portSecurityViolations"] == False:
                switchport port-security violation protect log
              %endif 
            %endif
            %if intfCfg.monitor["name"]:
              monitor session ${intfCfg.monitor["name"]} source ${intfCfg.monitor["source"]}
              monitor session ${intfCfg.monitor["name"]} source ${intfCfg.monitor["destination"]}
            %endif
            %if intfCfg.dot1x:
              dot1x pae authenticator
              dot1x port-control auto
            %endif 
            %if intfCfg.desc:
              description ${intfCfg.desc}
            %endif
          </%def>\

          <%def name="makeChannelMemberCfg(intfName, intfCfg)">
              <%
                # Simple config for a port channel member interface
              %>
          interface ${intfName}
            %if intfCfg.enabled:
              no shutdown
            %endif
              channel-group ${intfCfg.groupNum} mode active
          </%def>\

          <%def name="makeChannelGroupCfg(groupNum, groupCfg)">
              <%
                # config for the port channel interfaces
              %>
          interface Port-Channel ${groupNum}
            %if groupCfg.pcmlag == True:
              mlag ${groupNum}
            %endif
            %if groupCfg.enabled:
              no shutdown
            %endif
            %if groupCfg.mode == 'access':
              switchport mode access
              switchport access vlan ${groupCfg.accessVlan}
              spanning-tree portfast
            %elif groupCfg.mode == 'trunk':
              switchport mode trunk
              switchport trunk native vlan ${groupCfg.nativeVlanId}
              switchport trunk allowed vlan ${groupCfg.allowedVlans}
              spanning-tree guard root
            %elif groupCfg.mode == 'phone':
              switchport mode trunk phone
              switchport trunk native vlan ${groupCfg.nativeVlanId}
              switchport phone vlan ${groupCfg.phoneVlanId}
              switchport trunk allowed vlan ${groupCfg.allowedVlans}
              ! switchport phone trunk untagged???
            %endif
            %if groupCfg.desc:
              description ${groupCfg.desc}
            %endif
          </%def>\
          % for intfName, intfCfg in sorted(interfaces.items()):

          % if intfCfg.groupNum and intfCfg.groupNum > 0:
          ${makeChannelMemberCfg(intfName, intfCfg)}
          % else:
          ${makeIntfCfg(intfName, intfCfg)}
            %if intfCfg.dot1x:
          dot1x system-auth-control
            %endif
          % endif

          %if debug:
          % for name, intf in interfaces.items():
          intf: ${name}, ${vars(intf).items()}
          % endfor
          % for num, group in groups.items():
          group: ${num}, ${vars(group).items()}
          % endfor
          %endif
          % endfor

          % for groupNum, groupCfg in sorted(groups.items()):
          ${makeChannelGroupCfg(groupNum, groupCfg)}
          % endfor
      input_schema:
        fields:
          values:
            profileName:
              id: profileName
              name: name
              label: Name
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            profileDescription:
              id: profileDescription
              name: profileDescription
              label: Profile Description
              description: >-
                Create a description for this profile, and entering "$1" will
                add the device interface description when applied to a device.
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            profileSpeed:
              id: profileSpeed
              name: speed
              label: Speed
              description: Set the speed of the interface.
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: auto
                static_options:
                  values:
                    - auto
                    - 10half
                    - 10full
                    - 100full
                    - 1gfull
                    - 10gfull
                    - 25gfull
                    - 40gfull
                    - 100gfull
                format: null
                length: null
                pattern: null
                dynamic_options: null
            mode:
              id: mode
              name: mode
              label: Mode
              description: >-
                Set this as a VLAN access interface, as a trunk interface, or as
                a phone interface for VLAN unaware IP phones.
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: access
                static_options:
                  values:
                    - access
                    - trunk
                    - phone
                format: null
                length: null
                pattern: null
                dynamic_options: null
            accessVlanId:
              id: accessVlanId
              name: accessVlanId
              label: Access VLAN ID
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_INTEGER
              integer_props:
                default_value: '0'
                range: 0..4094
                static_options: null
                dynamic_options: null
            nativeVlanId:
              id: nativeVlanId
              name: nativeVlanId
              label: Native VLAN ID
              description: >-
                Assign a VLAN that untagged traffic arriving on this trunk will
                be tagged with.
              required: false
              type: INPUT_FIELD_TYPE_INTEGER
              integer_props:
                default_value: '0'
                range: 0..4094
                static_options: null
                dynamic_options: null
            phoneVlanId:
              id: phoneVlanId
              name: phoneVlanId
              label: Phone VLAN ID
              description: >-
                VoIP VLAN that enables LLDP-based classification of IP phones
                using the Type 7 System Capabilities TLV.
              required: false
              type: INPUT_FIELD_TYPE_INTEGER
              integer_props:
                default_value: '0'
                range: 0..4094
                static_options: null
                dynamic_options: null
            allowedVlans:
              id: allowedVlans
              name: allowedVlans
              label: Allowed VLANs
              description: >-
                List the VLAN IDs that this trunk can carry, separating values
                with a comma and including continuous values with a hyphen (e.g.
                4, 10-16, 100).
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            profileChannelGroup:
              id: profileChannelGroup
              name: channelGroup
              label: Port Channel Group
              description: >-
                The Port Channel ID if this interface is in a Link Aggregation
                Group (LAG)
              required: false
              type: INPUT_FIELD_TYPE_INTEGER
              integer_props:
                default_value: null
                range: 0..999999
                static_options: null
                dynamic_options: null
            43d41ed4-1d1c-45ce-bf7a-1b5a8bd5a06c:
              id: 43d41ed4-1d1c-45ce-bf7a-1b5a8bd5a06c
              name: dot1X
              label: DOT1X
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_BOOLEAN
              boolean_props:
                default_value: false
            6f6ad7b2-a9c3-4011-a89e-553ad9724818:
              id: 6f6ad7b2-a9c3-4011-a89e-553ad9724818
              name: portSecurityAllowedMacCount
              label: Port Security Allowed MAC count
              description: 1 is the default
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: '1'
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            9d2fb888-82d5-4f32-b1ec-0b2978657657:
              id: 9d2fb888-82d5-4f32-b1ec-0b2978657657
              name: portSecurityViolations
              label: Port Security Violations
              description: Shutdown is the default
              required: false
              type: INPUT_FIELD_TYPE_BOOLEAN
              boolean_props:
                default_value: true
            dd592d00-1302-47d9-a499-5abeb8fc83ee:
              id: dd592d00-1302-47d9-a499-5abeb8fc83ee
              name: enablePortSecurity
              label: Enable Port Security
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_BOOLEAN
              boolean_props:
                default_value: false
            3e634a31-35aa-4cfb-a0ec-9b87e74dd602:
              id: 3e634a31-35aa-4cfb-a0ec-9b87e74dd602
              name: portSecurity
              label: Port Security
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_GROUP
              group_props:
                members:
                  values:
                    - 6f6ad7b2-a9c3-4011-a89e-553ad9724818
                    - 9d2fb888-82d5-4f32-b1ec-0b2978657657
                    - dd592d00-1302-47d9-a499-5abeb8fc83ee
            c64fa52c-f765-4f95-96f5-e031e6348211:
              id: c64fa52c-f765-4f95-96f5-e031e6348211
              name: source
              label: Source Interfaces
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            3dc10d06-f6f4-49c6-b579-3610d07ebfe0:
              id: 3dc10d06-f6f4-49c6-b579-3610d07ebfe0
              name: destination
              label: Destination Interface
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            bede5ce0-f7c9-47cb-8d89-b519e21f93ed:
              id: bede5ce0-f7c9-47cb-8d89-b519e21f93ed
              name: name
              label: Test Name
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            9b3df99e-0309-445f-a9c9-9af02b296f7a:
              id: 9b3df99e-0309-445f-a9c9-9af02b296f7a
              name: monitorSession
              label: Monitor Session
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_GROUP
              group_props:
                members:
                  values:
                    - c64fa52c-f765-4f95-96f5-e031e6348211
                    - 3dc10d06-f6f4-49c6-b579-3610d07ebfe0
                    - bede5ce0-f7c9-47cb-8d89-b519e21f93ed
            16099728-39b4-408c-b861-43b8a7a94fcc:
              id: 16099728-39b4-408c-b861-43b8a7a94fcc
              name: portChannelMlag
              label: Port Channel MLAG
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_BOOLEAN
              boolean_props:
                default_value: false
            profileValue:
              id: profileValue
              name: value
              label: Profiles Group
              description: Group of members for Profiles
              required: false
              type: INPUT_FIELD_TYPE_GROUP
              group_props:
                members:
                  values:
                    - profileName
                    - profileDescription
                    - profileSpeed
                    - mode
                    - accessVlanId
                    - nativeVlanId
                    - phoneVlanId
                    - allowedVlans
                    - profileChannelGroup
                    - 43d41ed4-1d1c-45ce-bf7a-1b5a8bd5a06c
                    - 3e634a31-35aa-4cfb-a0ec-9b87e74dd602
                    - 9b3df99e-0309-445f-a9c9-9af02b296f7a
                    - 16099728-39b4-408c-b861-43b8a7a94fcc
            profiles:
              id: profiles
              name: profiles
              label: Profile
              description: >-
                Create or edit profiles to share interface attributes across
                devices.
              required: false
              type: INPUT_FIELD_TYPE_COLLECTION
              collection_props:
                base_field_id: profileValue
                key: profileName
            83957a33-96fb-424e-a49e-b68dba720da5:
              id: 83957a33-96fb-424e-a49e-b68dba720da5
              name: interfaceName
              label: InterfaceName
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            83829c03-f581-402d-ba99-ee71d21c6a40:
              id: 83829c03-f581-402d-ba99-ee71d21c6a40
              name: profile
              label: Profile
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options:
                  values:
                    - '{"fieldId":"profileName"}'
            e6e1aaee-ffb5-4b12-b2b1-5348b11cde18:
              id: e6e1aaee-ffb5-4b12-b2b1-5348b11cde18
              name: description
              label: Description
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            0700b440-440a-4db8-87f6-9087e1cd1f57:
              id: 0700b440-440a-4db8-87f6-9087e1cd1f57
              name: accessVlan
              label: Access VLAN ID
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_INTEGER
              integer_props:
                default_value: null
                range: null
                static_options: null
                dynamic_options: null
            beb2a016-56d0-484f-9e7e-390f837cf8e6:
              id: beb2a016-56d0-484f-9e7e-390f837cf8e6
              name: interfaceSpeed
              label: Interface Speed
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            c0d6733b-41f3-4f89-866f-af7ffef57d1d:
              id: c0d6733b-41f3-4f89-866f-af7ffef57d1d
              name: portChannelGroup
              label: Port-Channel Group
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            d2bc2f59-9e84-4681-8632-de95d3454a61:
              id: d2bc2f59-9e84-4681-8632-de95d3454a61
              name: enabled
              label: Enabled
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_BOOLEAN
              boolean_props:
                default_value: false
            fff9af94-c57d-44a2-b27e-a7dda0ce7c00:
              id: fff9af94-c57d-44a2-b27e-a7dda0ce7c00
              name: interfaceRangesGroup
              label: Interface Ranges Group
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_GROUP
              group_props:
                members:
                  values:
                    - 83957a33-96fb-424e-a49e-b68dba720da5
                    - 83829c03-f581-402d-ba99-ee71d21c6a40
                    - e6e1aaee-ffb5-4b12-b2b1-5348b11cde18
                    - 0700b440-440a-4db8-87f6-9087e1cd1f57
                    - beb2a016-56d0-484f-9e7e-390f837cf8e6
                    - c0d6733b-41f3-4f89-866f-af7ffef57d1d
                    - d2bc2f59-9e84-4681-8632-de95d3454a61
            1272ed58-34c1-4524-a620-e2cfff28d95e:
              id: 1272ed58-34c1-4524-a620-e2cfff28d95e
              name: interfaceRanges
              label: Interface Ranges
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_COLLECTION
              collection_props:
                base_field_id: fff9af94-c57d-44a2-b27e-a7dda0ce7c00
                key: ''
            enabled:
              id: enabled
              name: enabled
              label: Enabled
              description: Enable or disable the interface for adminstration
              required: false
              type: INPUT_FIELD_TYPE_BOOLEAN
              boolean_props:
                default_value: false
            description:
              id: description
              name: description
              label: Description
              description: Enter a port description string (max. 30 characters)
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options: null
            accessVlan:
              id: accessVlan
              name: accessVlan
              label: Access VLAN ID
              description: VLAN ID for this port
              required: false
              type: INPUT_FIELD_TYPE_INTEGER
              integer_props:
                default_value: '0'
                range: 0..4094
                static_options: null
                dynamic_options: null
            speed:
              id: speed
              name: speed
              label: Interface Speed
              description: Set the interface speed
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: auto
                static_options:
                  values:
                    - auto
                    - 10half
                    - 10full
                    - 100full
                    - 1gfull
                    - 10gfull
                    - 25gfull
                    - 40gfull
                    - 100gfull
                format: null
                length: null
                pattern: null
                dynamic_options: null
            profile:
              id: profile
              name: profile
              label: Profile
              description: >-
                Assign an interface profile that you've created to this device
                interface
              required: false
              type: INPUT_FIELD_TYPE_STRING
              string_props:
                default_value: null
                static_options: null
                format: null
                length: null
                pattern: null
                dynamic_options:
                  values:
                    - '{"fieldId":"profileName"}'
            channelGroup:
              id: channelGroup
              name: channelGroup
              label: Port-Channel Group
              description: >-
                The Port-Channel ID if this interface is in a Link Aggregation
                Group (LAG)
              required: false
              type: INPUT_FIELD_TYPE_INTEGER
              integer_props:
                default_value: null
                range: 0..999999
                static_options: null
                dynamic_options: null
            intfConfig:
              id: intfConfig
              name: intfConfig
              label: Interface specific configuration
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_GROUP
              group_props:
                members:
                  values:
                    - enabled
                    - description
                    - accessVlan
                    - speed
                    - profile
                    - channelGroup
            interface:
              id: interface
              name: interface
              label: Interface
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_RESOLVER
              resolver_props:
                base_field_id: intfConfig
                display_mode: RESOLVER_FIELD_DISPLAY_MODE_ALL
                input_mode: RESOLVER_FIELD_INPUT_MODE_SINGLE_INTERFACE_TAG
                input_tag_label: interface
                tag_filter_query: null
            e312232e-c8b1-40a4-96b6-fef7cd7bc67b:
              id: e312232e-c8b1-40a4-96b6-fef7cd7bc67b
              name: devicesGroup
              label: Devices Group
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_GROUP
              group_props:
                members:
                  values:
                    - 1272ed58-34c1-4524-a620-e2cfff28d95e
                    - interface
            devices:
              id: devices
              name: devices
              label: Device
              description: >-
                Select a device to configure its interfaces and to assign a
                profile.
              required: false
              type: INPUT_FIELD_TYPE_RESOLVER
              resolver_props:
                base_field_id: e312232e-c8b1-40a4-96b6-fef7cd7bc67b
                display_mode: RESOLVER_FIELD_DISPLAY_MODE_SPARSE
                input_mode: RESOLVER_FIELD_INPUT_MODE_MULTI_DEVICE_TAG
                input_tag_label: null
                tag_filter_query: null
            root:
              id: root
              name: ''
              label: ''
              description: ''
              required: false
              type: INPUT_FIELD_TYPE_GROUP
              group_props:
                members:
                  values:
                    - profiles
                    - devices
        layout:
          value: >-
            {"accessVlanId":{"key":"accessVlanId","dependency":{"mode":{"value":["access"],"mode":"SHOW"}},"type":"INPUT"},"nativeVlanId":{"key":"nativeVlanId","dependency":{"mode":{"value":["trunk","phone"],"mode":"SHOW"}},"type":"INPUT"},"allowedVlans":{"key":"allowedVlans","dependency":{"mode":{"value":["trunk","phone"],"mode":"SHOW"}},"type":"INPUT"},"phoneVlanId":{"key":"phoneVlanId","dependency":{"mode":{"value":["phone"],"mode":"SHOW"}},"type":"INPUT"},"intfConfig":{"key":"intfConfig","type":"INPUT","order":["enabled","profile","description","accessVlan","speed","channelGroup"]},"profiles":{"key":"profiles","type":"INPUT","isPageLayout":true},"profileValue":{"key":"profileValue","type":"INPUT","order":["profileName","profileDescription","profileSpeed","mode","43d41ed4-1d1c-45ce-bf7a-1b5a8bd5a06c","3e634a31-35aa-4cfb-a0ec-9b87e74dd602","accessVlanId","nativeVlanId","phoneVlanId","allowedVlans","profileChannelGroup","16099728-39b4-408c-b861-43b8a7a94fcc","9b3df99e-0309-445f-a9c9-9af02b296f7a"]},"7ef6509b-f670-4561-a8c9-29fc9a536827":{"key":"7ef6509b-f670-4561-a8c9-29fc9a536827","type":"INPUT","valueToLabelMap":{"False":"PROTECT","True":"SHUTDOWN"}},"9d2fb888-82d5-4f32-b1ec-0b2978657657":{"key":"9d2fb888-82d5-4f32-b1ec-0b2978657657","type":"INPUT","valueToLabelMap":{"True":"SHUTDOWN","False":"PROTECT"}},"3e634a31-35aa-4cfb-a0ec-9b87e74dd602":{"key":"3e634a31-35aa-4cfb-a0ec-9b87e74dd602","type":"INPUT","order":["dd592d00-1302-47d9-a499-5abeb8fc83ee","6f6ad7b2-a9c3-4011-a89e-553ad9724818","9d2fb888-82d5-4f32-b1ec-0b2978657657"]},"9b3df99e-0309-445f-a9c9-9af02b296f7a":{"key":"9b3df99e-0309-445f-a9c9-9af02b296f7a","type":"INPUT","order":["bede5ce0-f7c9-47cb-8d89-b519e21f93ed","c64fa52c-f765-4f95-96f5-e031e6348211","3dc10d06-f6f4-49c6-b579-3610d07ebfe0"]},"devices":{"key":"devices","type":"INPUT","showDefaultRow":false},"fff9af94-c57d-44a2-b27e-a7dda0ce7c00":{"key":"fff9af94-c57d-44a2-b27e-a7dda0ce7c00","type":"INPUT","order":["83957a33-96fb-424e-a49e-b68dba720da5","d2bc2f59-9e84-4681-8632-de95d3454a61","83829c03-f581-402d-ba99-ee71d21c6a40","e6e1aaee-ffb5-4b12-b2b1-5348b11cde18","0700b440-440a-4db8-87f6-9087e1cd1f57","beb2a016-56d0-484f-9e7e-390f837cf8e6","c0d6733b-41f3-4f89-866f-af7ffef57d1d"]}}
